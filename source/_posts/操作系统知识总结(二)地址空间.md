---
title: 操作系统知识总结(二)地址空间
date: 2019-08-28 11:42:22
tags: "内存"
categories: "操作系统"
---

进程的地址空间(Process Address Space)是指进程可以寻址的虚拟地址空间。
<!-- more -->


进程地址空间(Process Address Space)是指进程可寻址的虚拟地址空间。在32位的处理器中，进程可以寻址的4GB的地址空间，但是进程没有权限去寻址内核空间的虚拟地址，只能通过系统调用的方式间接的访问。

#### 1 为什么32位的处理器，进程可以寻址4GB的地址空间？
(1) 什么是地址空间？
一个CPU的地址总线宽度为10，那么可以寻址2^10 (1024)个内存单元，1个内存单元的大小为1个字节，所以这个CPU的内存地址空间为2^10 B,即1KB大小。
所以，如果说32位的CPU的地址总线宽度为32的话，那么其地址空间大小为：2^32 (4K)个内存单元，所以这个CPU的内存地址空间为4KB

(2) 操作系统的位数和CPU的位数区别
#### 32位的CPU，内存空间地址
<img src="/img/CPU虚拟内存地址.png">

#### 32位的操作系统，逻辑地址
对于逻辑地址为32的操作系统，其逻辑地址编码采用的地址位数是32位的，所以，其逻辑地址的寻址范围是4GB。而在intel x86架构下，采用的是内存映射技术(Memory-Mapped I/O, MMIO)，也就说将4GB逻辑地址中一部分要划分出来与BIOS ROM、CPU寄存器、I/O设备这些部件的物理地址进行映射，那么逻辑地址中能够与内存条的物理地址进行映射的空间肯定没有4GB了，看下面这幅图就明白了


<img src="/img/OS逻辑地址.png">

所以，日常使用中，整个内存条物理地址，并没有被完全使用！

参考文章：
>https://www.cnblogs.com/dolphin0520/archive/2013/05/31/3110555.html





